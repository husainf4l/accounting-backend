<?xml version="1.0" encoding="UTF-8"?>
<Invoice xmlns="urn:oasis:names:specification:ubl:schema:xsd:Invoice-2"
         xmlns:cac="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2"
         xmlns:cbc="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2"
         xmlns:ext="urn:oasis:names:specification:ubl:schema:xsd:CommonExtensionComponents-2">
    <cbc:ProfileID>reporting:1.0</cbc:ProfileID>
    <cbc:ID>${invoice.number || '1'}</cbc:ID>
    <cbc:UUID>${invoice.uuid || 'UUID_PLACEHOLDER'}</cbc:UUID>
    <cbc:IssueDate>${formatDate(invoice.issueDate)}</cbc:IssueDate>
    <cbc:InvoiceTypeCode name="${invoice.invoiceTypeCodeName || 'Standard'}">${invoice.invoiceTypeCode}</cbc:InvoiceTypeCode>
    <cbc:Note>${invoice.note || 'No additional notes'}</cbc:Note>
    <cbc:DocumentCurrencyCode>JOD</cbc:DocumentCurrencyCode>
    <cbc:TaxCurrencyCode>${invoice.taxCurrency || 'JO'}</cbc:TaxCurrencyCode>
    <cac:AccountingSupplierParty>
        <cac:Party>
            <cac:PostalAddress>
                <cac:Country>
                    <cbc:IdentificationCode>JO</cbc:IdentificationCode>
                </cac:Country>
            </cac:PostalAddress>
            <cac:PartyTaxScheme>
                <cbc:CompanyID>${company.taxNumber || '000000000'}</cbc:CompanyID>
                <cac:TaxScheme>
                    <cbc:ID>VAT</cbc:ID>
                </cac:TaxScheme>
            </cac:PartyTaxScheme>
            <cac:PartyLegalEntity>
                <cbc:RegistrationName>${company.legalName || 'Unknown Supplier'}</cbc:RegistrationName>
            </cac:PartyLegalEntity>
        </cac:Party>
    </cac:AccountingSupplierParty>
    <cac:AccountingCustomerParty>
        <cac:Party>
            <cac:PartyIdentification>
                <cbc:ID schemeID="NIN">${invoice.customerId || '123456'}</cbc:ID>
            </cac:PartyIdentification>
            <cac:PartyLegalEntity>
                <cbc:RegistrationName>${invoice.customerName || 'Unknown Customer'}</cbc:RegistrationName>
            </cac:PartyLegalEntity>
        </cac:Party>
    </cac:AccountingCustomerParty>
    <cac:TaxTotal>
        <cbc:TaxAmount currencyID="${invoice.documentCurrency || 'JO'}">${invoice.taxAmount || '0.00'}</cbc:TaxAmount>
    </cac:TaxTotal>
    <cac:LegalMonetaryTotal>
        <cbc:TaxExclusiveAmount currencyID="${invoice.documentCurrency || 'JO'}">${invoice.taxExclusiveAmount || '0.00'}</cbc:TaxExclusiveAmount>
        <cbc:TaxInclusiveAmount currencyID="${invoice.documentCurrency || 'JO'}">${invoice.taxInclusiveAmount || '0.00'}</cbc:TaxInclusiveAmount>
        <cbc:PayableAmount currencyID="${invoice.documentCurrency || 'JO'}">${invoice.payableAmount || '0.00'}</cbc:PayableAmount>
    </cac:LegalMonetaryTotal>
</Invoice>`;



